### 进程间通信

复杂系统通信的基石

Unix设计哲学

操作系统创建的进程之间的交互数据

IPC程序间的通信



### 管道
组织计算，非侵入的

命名管道


```shell
process1 > namedpipe
```


管道的核心是不侵入，灵活
不会增加程序设计负担，又能组织复杂的计算过程



### 本地内存共享

同一个进程的多个线程本身是共享内存的，不需要特别考虑共享内存的。
如果是跨进程的线程(或者理解为跨进程的程序)，可以考虑使用共享内存。


### 本地消息/队列

消息队列
    
    现代操作系统都会提供类似的能力,mqueue

网络请求

    TCP/IP协议，包括建立在这之上的更多通信协议



### RPC

通过本地程序调用是调用远程的方法

client stub
server stub
socket



RPC调用过程的约定
函数参数格式，返回结果格式，异常处理

使用框架 IDL
thrift框架
Dubbo
grpc 

微服务环境的开发
序列化
增加系统间的耦合


### 消息队列

事件不会增加耦合
系统依赖的不是另一个系统，而是某种事件




### 进程间通信

管道，内存共享， 消息队列

分布式
rpc， 消息队列和网络请求

信号

数据库
普通文件

如果考虑单机模型，有管道、内存共享、消息队列。这三个模型中，内存共享程序最难写，但是性能最高。管道程序最好写，有标准接口。消息队列程序也比较好写，比如用发布/订阅模式实现具体的程序。

如果考虑分布式模型，就有远程调用、消息队列和网络请求。直接发送网络请求程序不好写，不如直接用实现好的 RPC 调用框架。RPC 框架会增加系统的耦合，可以考虑 消息队列，以及发布订阅事件的模式，这样可以减少系统间的耦合。