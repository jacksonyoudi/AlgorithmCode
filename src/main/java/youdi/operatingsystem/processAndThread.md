### 进程与线程


进程： 启动的一个应用，程序的执行副本

分配资源的基础单位

线程：
轻量级进程


作业： job

进程
线程

资源分配：
    内存
    CPU
    文件系统

os早期：
    多个进程通过分时技术交替执行
    进程间通信通过管道进行的

线程： cpu资源

 轻量级进程： 线程设计出来后，只被分配了计算资源cpu 被分配的方式，由操作系统调度线程
 


内核级线程： 被操作系统直接调用的线程 Kthread API
用户级线程： 主线程的程序用算法实现子线程  PThread API


### 分时和调度
都是调度线程


分时技术： 时间片



进程和线程的状态：
就绪
运行
阻塞： 等待响应 IO 中断
阻塞 -> 就绪 -> 运行


### 进程和线程的表示
    
pid
name 
status
address
user
group


描述信息 pid
资源信息 文件 内存 
内存分布 


线程：
    状态，优先级， 程序计数器， 

用户级线程和内核线程存在映射关系


### 隔离方案

地区空间
进程彼此完全隔离的内存区域

内存


线程切换：

中断-> 线程停止执行->操作系统接管中断-> 中断服务程序(保存上下文)-> 调度下一个



多核处理：


#### 创建线程进程
fork()


进程： 存储资源
线程： 计算资源


linux中， 创建一个进程就会创建一个主线程
创建进程要为进程划分一块完整的内存空间，有大量的初始化操作
创建线程只是确定PC指针和寄存器，并给线程分配一个栈用于执行程序


